<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="MstUsers">
    <resultMap id = "MstUsers" type = "MstUsers">
        <result property = "id" column = "id"/>
        <result property = "name" column = "name"/>
        <result property = "email" column = "email"/>
        <result property = "password" column = "password"/>
        <result property = "rememberToken" column = "remember_token"/>
        <result property = "verifyEmail" column = "verify_email"/>
        <result property = "isActive" column = "is_active"/>
        <result property = "isDelete" column = "is_delete"/>
        <result property = "groupRole" column = "group_role"/>
        <result property = "lastLoginAt" column = "last_login_at"/>
        <result property = "lastLoginIp" column = "last_login_ip"/>
        <result property = "createdAt" column = "created_at"/>
        <result property = "updatedAt" column = "updated_at"/>
    </resultMap>

    <select id = "findByEmail" resultMap = "MstUsers">
        select * from mst_users where email = #{email} and is_delete = 0;
    </select>

    <select id = "findAll" resultMap = "MstUsers">
        select * from mst_users where is_delete = 0;
    </select>

    <select id = "findByNameAndEmail" resultMap = "MstUsers" parameterType="MstUsers">
        SELECT * FROM mst_users WHERE name LIKE  #{name} AND email LIKE  #{email} and is_delete = 0;
    </select>
</mapper>